<div class="profile">
  <h1>Account Overview</h1>
  <button *ngIf="!editable" mat-stroked-button type="button" class="profile-edit-btn black-btn" (click)="edit()">Edit</button>
  <hr style="margin: 10px 0;">
  <form *ngIf="user" [formGroup]="profileForm" (ngSubmit)="updateUser()" class="profile-form-fields">
    <mat-form-field appearance="outline" class="first-name">
      <mat-label>First Name*</mat-label>
      <input matInput type="text" formControlName="firstName" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
      <mat-error *ngIf="profileForm.controls.firstName.hasError('required')">First Name required!</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="last-name">
      <mat-label>Last Name*</mat-label>
      <input matInput type="text" formControlName="lastName" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
      <mat-error *ngIf="profileForm.controls.lastName.hasError('required')">Last Name required!</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="email">
      <mat-label>Email*</mat-label>
      <input matInput type="email" formControlName="email" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
      <mat-error *ngIf="profileForm.controls.email.hasError('required')">Email required!</mat-error>
      <mat-error *ngIf="profileForm.controls.email.hasError('email')">Invalid email!</mat-error>
      <mat-error *ngIf="profileForm.controls.email.hasError('inUse')">Email is already in use!</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="phone-nr">
      <mat-label>Phone Nr.</mat-label>
      <input matInput type="tel" formControlName="phoneNr" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
    </mat-form-field>
    <mat-form-field appearance="outline" class="gender">
      <mat-label>Gender</mat-label>
      <input *ngIf="!editable" matInput type="text" formControlName="gender" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
      <mat-select *ngIf="editable" formControlName="gender">
        <mat-option value="male">Male</mat-option>
        <mat-option value="female">Female</mat-option>
        <mat-option value="other">Other</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline" class="country">
      <mat-label>Country</mat-label>
      <input *ngIf="!editable" matInput type="text" formControlName="country" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
      <mat-select *ngIf="editable" formControlName="country">
        <mat-option *ngFor="let country of countryList" value="{{country}}">{{country}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline" class="city">
      <mat-label>City</mat-label>
      <input matInput type="text" formControlName="city" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
    </mat-form-field>
    <mat-form-field appearance="outline" class="zip-code">
      <mat-label>ZIP Code</mat-label>
      <input matInput type="number" formControlName="zipCode" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
    </mat-form-field>
    <mat-form-field appearance="outline" class="street">
      <mat-label>Street</mat-label>
      <input matInput type="text" formControlName="street" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
    </mat-form-field>
    <br>
    <mat-form-field appearance="outline" class="username">
      <mat-label>Username*</mat-label>
      <input matInput type="text" formControlName="userName" [readonly]="!editable" [style]="editable ? '' : 'cursor: default;'">
      <mat-error *ngIf="profileForm.controls.userName.hasError('required')">Username required!</mat-error>
      <mat-error *ngIf="profileForm.controls.userName.hasError('inUse')">Username is already in use!</mat-error>
    </mat-form-field>
    <div *ngIf="editable" class="btn-container">
      <button mat-stroked-button type="submit" class="profile-form-btn black-btn" [disabled]="profileForm.invalid">Update</button>
      <button mat-stroked-button type="button" class="profile-form-btn black-btn" (click)="cancelEdit()">Cancel</button>
    </div>
  </form>
</div>
